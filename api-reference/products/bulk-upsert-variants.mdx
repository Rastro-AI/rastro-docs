---
title: 'Bulk Upsert Variants'
api: 'POST /public/catalogs/{catalog_id}/products/{product_id}/items/bulk'
---

Create or update multiple variants for a product at once.

## Request

```bash
curl -X POST https://catalogapi.rastro.ai/api/public/catalogs/cat_abc123/products/TSHIRT-BASIC/items/bulk \
  -H "Authorization: Bearer rastro_pk_..." \
  -H "Content-Type: application/json" \
  -d '{
    "product": {
      "product_title": "Basic T-Shirt",
      "product_brand": "Apparel Co"
    },
    "variants": [
      {"sku": "TSHIRT-BASIC-RED-S", "color": "Red", "size": "S", "price": 19.99},
      {"sku": "TSHIRT-BASIC-RED-M", "color": "Red", "size": "M", "price": 19.99},
      {"sku": "TSHIRT-BASIC-BLUE-S", "color": "Blue", "size": "S", "price": 19.99}
    ]
  }'
```

## Parameters

<ParamField path="catalog_id" type="string" required>
  Catalog ID
</ParamField>

<ParamField path="product_id" type="string" required>
  Product ID
</ParamField>

## Body

<ParamField body="product" type="object">
  Product-level fields (shared across variants)
</ParamField>

<ParamField body="variants" type="array" required>
  Array of variants to upsert
</ParamField>

## Response

```json
{
  "product_id": "TSHIRT-BASIC",
  "items_processed": 3,
  "items_created": 1,
  "items_updated": 2,
  "items_failed": 0
}
```

## Example

```python
response = requests.post(
    f"{BASE_URL}/public/catalogs/{catalog_id}/products/TSHIRT-BASIC/items/bulk",
    headers={
        "Authorization": "Bearer rastro_pk_...",
        "Content-Type": "application/json"
    },
    json={
        "product": {
            "product_title": "Basic T-Shirt",
            "product_brand": "Apparel Co"
        },
        "variants": [
            {"sku": "TSHIRT-RED-S", "color": "Red", "size": "S", "price": 19.99},
            {"sku": "TSHIRT-RED-M", "color": "Red", "size": "M", "price": 19.99},
            {"sku": "TSHIRT-RED-L", "color": "Red", "size": "L", "price": 19.99},
        ]
    }
)

result = response.json()
print(f"Created: {result['items_created']}, Updated: {result['items_updated']}")
```
