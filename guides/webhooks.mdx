---
title: 'Webhooks'
description: 'Receive notifications for catalog events'
---

## Overview

Webhooks notify your application when events occur in Rastro.

<Note>
  Webhooks are configured in the Rastro dashboard under Settings â†’ Webhooks.
</Note>

## Supported Events

| Event | Description |
|-------|-------------|
| `catalog.item.created` | New item added |
| `catalog.item.updated` | Item modified |
| `catalog.item.deleted` | Item removed |
| `workflow.completed` | Workflow finished |
| `workflow.failed` | Workflow error |

## Webhook Payload

```json
{
  "event": "catalog.item.updated",
  "timestamp": "2024-01-15T10:30:00Z",
  "data": {
    "catalog_id": "cat_abc123",
    "item_id": "item_xyz789",
    "changes": {
      "price": {"old": 999.99, "new": 899.99}
    }
  }
}
```

## Handling Webhooks

```python
from flask import Flask, request

app = Flask(__name__)

@app.route("/webhooks/rastro", methods=["POST"])
def handle_webhook():
    payload = request.json
    event = payload["event"]

    if event == "catalog.item.updated":
        item_id = payload["data"]["item_id"]
        # Sync to your system
        sync_item_to_erp(item_id)

    elif event == "workflow.completed":
        run_id = payload["data"]["workflow_run_id"]
        # Fetch and process results
        process_workflow_results(run_id)

    return {"status": "ok"}
```

## Verifying Signatures

Webhooks include a signature header for verification:

```python
import hmac
import hashlib

def verify_signature(payload, signature, secret):
    expected = hmac.new(
        secret.encode(),
        payload.encode(),
        hashlib.sha256
    ).hexdigest()
    return hmac.compare_digest(signature, expected)
```
